---
diffculity: medium
---
#medium 
Alice plays the following game, loosely based on the card game **"21"**.

Alice starts with `0` points and draws numbers while she has less than `k` points. During each draw, she gains an integer number of points randomly from the range `[1, maxPts]`, where `maxPts` is an integer. Each draw is independent and the outcomes have equal probabilities.

Alice stops drawing numbers when she gets `k` **or more points**.

Return the probability that Alice has `n` or fewer points.

Answers within `10-5` of the actual answer are considered accepted.
****
**Umpire**

input:
	n: the target point alice is targeting
	k: the number of time she can draw if her point is under k
	maxpoint: the max point she could draw from range 1- maxpoint
output: probability that alice has n or fewer points:

idea: probability, sliding window, and math

plan:
	if k == 0 or n >= k - 1 +maxpts:
		return 1.0
	create a array of probability
		contain 0.0 with the length n + 1
		the first of that array is 1.0
	two variable with windowsum = 1.0 and probability = 0.0
	for i in range (starting at 1 to n+1):
		probability at i = window_sum / maxpoint
		if i < k :
			windowsum  += dp at  i 
		else: 
			probability += dp at i
		if i >= maxpts:
			windowsum -= dp at i -maxpoint
		return probability
code:
```python
class Solution(object):
    def new21Game(self, n, k, maxPts):
        if k == 0 or n >= k - 1 + maxPts:
            return 1.0
        dp = [0.0] * (n + 1)
        dp[0] = 1.0
        window_sum, probability = 1.0, 0.0
        for i in range(1, n + 1):
            dp[i] = window_sum / maxPts
            if i < k:
                window_sum += dp[i]
            else:
                probability += dp[i]
            if i >= maxPts:
                window_sum -= dp[i - maxPts]
        return probability
```

****
**Example 1:**

**Input:** n = 10, k = 1, maxPts = 10
**Output:** 1.00000
**Explanation:** Alice gets a single card, then stops.

**Example 2:**

**Input:** n = 6, k = 1, maxPts = 10
**Output:** 0.60000
**Explanation:** Alice gets a single card, then stops.
In 6 out of 10 possibilities, she is at or below 6 points.

**Example 3:**

**Input:** n = 21, k = 17, maxPts = 10
**Output:** 0.73278